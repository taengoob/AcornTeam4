<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.coupon">

	<insert id="couponAdd" parameterType="CouponDTO">
		insert into coupon_detail (coupon_id, coupon_user_id, coupon_dis_per,
								   coupon_name, coupon_is_usable)
		values (#{coupon_id}, #{coupon_userid}, #{coupon_disper}, 
				#{coupon_name}, 'true')
	</insert>
	
	<select id="couponList" parameterType="String" resultType="CouponDTO">
		
		select
			coupon_id as couponId,
			coupon_user_id as couponuserId,
			coupon_gen_date as couponGendate,
			coupon_use_date as couponUsedate,
			coupon_dis_per as couponDisper,
			coupon_name as couponName,
			coupon_is_usable as couponIsusable
		from coupon_detail
		where coupon_user_id = #{userid2}
		order by coupon_dis_per desc
	</select>
	
</mapper>